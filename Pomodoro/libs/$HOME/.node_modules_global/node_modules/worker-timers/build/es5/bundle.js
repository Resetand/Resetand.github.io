(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('worker-timers-broker')) :
	typeof define === 'function' && define.amd ? define(['exports', 'worker-timers-broker'], factory) :
	(factory((global.workerTimers = {}),global.workerTimersBroker));
}(this, (function (exports,workerTimersBroker) { 'use strict';

	// tslint:disable-next-line:max-line-length
	var worker = "!function(r){var n={};function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=r,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=\"\",o(o.s=0)}([function(e,t,r){\"use strict\";r.r(t);r(1)},function(e,t,r){!function(){\"use strict\";var w=new Map,T=new Map,b=function(e,t){var r,n;if(\"performance\"in self){var o=performance.now(),i=Math.max(0,o-t);r=o,n=e-i}else r=Date.now(),n=e;var a=r+n;return{expected:a,remainingDelay:n}},M=function e(t,r,n,o){var i=\"performance\"in self?performance.now():Date.now();n<i?postMessage({id:null,method:\"call\",params:{timerId:r,timerType:o}}):t.set(r,setTimeout(e,n-i,t,r,n,o))};addEventListener(\"message\",function(e){var t,r,n,o,i,a,u,s,c=e.data;try{if(\"clear\"===c.method){var l=c.id,d=c.params,f=d.timerId,p=d.timerType;if(\"interval\"===p)!function(e){var t=w.get(e);if(void 0===t)throw new Error('There is no interval scheduled with the given id \"'.concat(e,'\".'));clearTimeout(t),w.delete(e)}(f),postMessage({error:null,id:l});else{if(\"timeout\"!==p)throw new Error('The given type \"'.concat(p,'\" is not supported'));!function(e){var t=T.get(e);if(void 0===t)throw new Error('There is no timeout scheduled with the given id \"'.concat(e,'\".'));clearTimeout(t),T.delete(e)}(f),postMessage({error:null,id:l})}}else{if(\"set\"!==c.method)throw new Error('The given method \"'.concat(c.method,'\" is not supported'));var m=c.params,v=m.delay,h=m.now,g=m.timerId,y=m.timerType;if(\"interval\"===y)i=g,a=b(v,h),u=a.expected,s=a.remainingDelay,w.set(i,setTimeout(M,s,w,i,u,\"interval\"));else{if(\"timeout\"!==y)throw new Error('The given type \"'.concat(y,'\" is not supported'));t=g,r=b(v,h),n=r.expected,o=r.remainingDelay,T.set(t,setTimeout(M,o,T,t,n,\"timeout\"))}}}catch(e){postMessage({error:{message:e.message},id:c.id,result:null})}})}()}]);";

	var blob = new Blob([worker], {
	  type: 'application/javascript; charset=utf-8'
	});
	var url = URL.createObjectURL(blob);
	var workerTimers = workerTimersBroker.load(url);
	var clearInterval = workerTimers.clearInterval;
	var clearTimeout = workerTimers.clearTimeout;
	var setInterval = workerTimers.setInterval;
	var setTimeout = workerTimers.setTimeout;
	URL.revokeObjectURL(url);

	exports.clearInterval = clearInterval;
	exports.clearTimeout = clearTimeout;
	exports.setInterval = setInterval;
	exports.setTimeout = setTimeout;

	Object.defineProperty(exports, '__esModule', { value: true });

})));
