(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{74:function(e,t,n){e.exports=n(97)},83:function(e,t,n){},88:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),i=n(151),l=n(152),c=n(153),u=n(99),s=n(98),d=n(19),f="SEARCH",m="DONE",E="ACTIVE",h=n(18),p=n(15),v=n(25),O=n(23),y=n(26),T=n(138),b=n(140),g=(n(83),function(e,t,n){var a=null;return function(){for(var o=this,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];a&&clearTimeout(a),a=setTimeout(function(){e.apply(n||o,i),a=null},t)}}),D=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(v.a)(this,Object(O.a)(t).call(this,e))).state={value:""},n.inputhandler=function(e){n.setState({value:e.target.value},function(){return n.search(n.state.value)})},n.search=g(n.props.search,50),n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState({value:this.props.filter.by})}},{key:"render",value:function(){var e=this.props,t=e.filter,n=e.reset;return o.a.createElement("div",null,o.a.createElement(T.a,{fullWidth:!0},o.a.createElement(b.a,{value:this.state.value,placeholder:"Serach todo...",onChange:this.inputhandler,onBlur:function(){t.by||n()},className:"search-input"})))}}]),t}(a.Component),j=Object(d.b)(function(e){return{filter:e.filter}},function(e){return{search:function(t){return e(function(e){return{type:"SET_SEARCH_FILTER",filter:{type:"SEARCH",by:e.toLowerCase()}}}(t))},reset:function(){return e({type:"RESET_FILTER",filter:{type:"ALL",by:null}})}}})(D),L=n(141),w=n(142),A=(n(88),Object(d.b)(function(e){return{filter:e.filter}},function(e){return{showAll:function(){return e({type:"RESET_FILTER",filter:{type:"ALL",by:null}})},showDone:function(){return e({type:"DONE_FILTER",filter:{type:"DONE",by:null}})},showActive:function(){return e({type:"ACTIVE_FILTER",filter:{type:"ACTIVE",by:null}})}}})(function(e){var t=e.filter,n=e.showAll,a=e.showDone,r=e.showActive;return o.a.createElement("div",{className:"btnGroup"},o.a.createElement(L.a,{fullWidth:!0,variant:"contained",color:"primary",size:"small","aria-label":"Small outlined button group"},o.a.createElement(w.a,{onClick:n,className:"ALL"===t.type?"active":""},"All"),o.a.createElement(w.a,{onClick:r,className:"ACTIVE"===t.type?"active":""},"Active"),o.a.createElement(w.a,{onClick:a,className:"DONE"===t.type?"active":""},"Done")))}));var S=new(function(){function e(){Object(h.a)(this,e),this.url="https://jsonplaceholder.typicode.com/todos/",this.todos=[]}return Object(p.a)(e,[{key:"getTodo",value:function(e){return fetch(this.url+e).then(function(e){return e.json()}).then(function(e){return e})}},{key:"getTodos",value:function(e){return fetch(this.url).then(function(e){return e.json()}).then(function(t){return t.slice(0,e)}).then(function(e){return e.map(function(e){var t=e.id,n=e.title,a=e.completed;return{id:t,title:n,done:a}})})}}]),e}()),C=n(150),_=n(144),I=n(155),N=n(147),R=n(146),k=n(148),F=n(145),G=n(100),x=n(143),M=(n(94),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(v.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).state={isEdit:!1,show:!0,timeout:200,value:n.props.title},n.toggleEdit=function(){n.setState(function(e){return{isEdit:!e.isEdit}})},n.onChange=function(e){n.setState({value:e.target.value})},n.offEdit=function(){n.setState({isEdit:!1}),n.save()},n.removeTodo=function(){n.setState({show:!1},function(){return setTimeout(n.props.removeTodo,n.state.timeout)}),n.save()},n.save=function(){n.props.saveTodo(n.props.id,n.state.value)},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.done,a=t.toggleDoneTodo;return o.a.createElement(x.a,{direction:"up",timeout:this.state.timeout,in:this.state.show},o.a.createElement(_.a,null,o.a.createElement(F.a,{control:o.a.createElement(I.a,{color:"primary",checked:n,onChange:a})}),o.a.createElement(G.a,{multiline:!0,fullWidth:!0,onBlur:this.offEdit,onKeyPress:function(t){13===t.charCode&&e.offEdit()},onChange:this.onChange,className:"todo-title ".concat(this.state.isEdit?"":"todo-edit"," ").concat(n?"todo-done":""),value:this.state.value,readOnly:!this.state.isEdit}),o.a.createElement(N.a,{className:"todo-options"},o.a.createElement(R.a,{color:this.state.isEdit?"primary":"default",onClick:this.toggleEdit,"aria-label":"Edit"},o.a.createElement(k.a,{fontSize:"small"},"edit")),o.a.createElement(R.a,{onClick:this.removeTodo,"aria-label":"Delete"},o.a.createElement(k.a,{fontSize:"small"},"delete")))))}}]),t}(o.a.Component)),V=n(149),W=(n(95),function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.setServerData(50)}},{key:"render",value:function(){var e=this.props,t=e.todoList,n=e.saveTodo,a=e.removeTodo,r=e.toggleDoneTodo,i=e.loading,l=e.globalTodoListIsEmpty;return i?o.a.createElement("div",{className:"center"},o.a.createElement(V.a,null)):(console.log(l),l?o.a.createElement(s.a,{style:{opacity:".6",cursor:"default"},variant:"h6"},"Add todo below"):t.length?o.a.createElement(C.a,{className:"list"},t.map(function(e){var t=e.title,i=e.id,l=e.done;return o.a.createElement(M,{title:t,id:i,key:i,done:l,saveTodo:n,removeTodo:function(){return a(i)},toggleDoneTodo:function(){return r(i)}})})):o.a.createElement("span",null," nothing found"))}}]),t}(o.a.Component)),z=Object(d.b)(function(e){var t=e.todoList,n=e.filter,a=e.loading;return{todoList:function(e,t){switch(t.type){case f:return t.by?e.filter(function(e){return e.title.toLowerCase().indexOf(t.by)>-1}):e;case E:return e.filter(function(e){return!1===e.done});case m:return e.filter(function(e){return!0===e.done});default:return e}}(Array.from(t.values()),n),loading:a,globalTodoListIsEmpty:0===t.size}},function(e){return{saveTodo:function(t,n){e(function(e,t){return{type:"EDIT_TODO",todo:{id:e,title:t,done:!1,date:(new Date).getDate()}}}(t,n))},setServerData:function(t){e(function(e){S.getTodos(t).then(function(t){e(function(e){if(Array.isArray(e)){var t=new Map;e.forEach(function(e){t.set(e.id,e)}),e=t}return{type:"SET_TODO_LIST",todoList:e}}(t)),e({type:"TOGGLE_LOADING"})})})},removeTodo:function(t){return e(function(e){return{type:"REMOVE_TODO",id:e}}(t))},toggleDoneTodo:function(t){return e(function(e){return{type:"DONE_TOGGLE_TODO",id:e}}(t))}}})(W),H=n(154),B=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(v.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).state={value:""},n.add=function(e){e.preventDefault();var t=n.state.value;t&&n.props.addTodo(t),n.setState({value:""})},n.updateValue=function(e){n.setState({value:e.target.value})},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.add,style:{width:"100%"}},o.a.createElement(H.a,{onChange:this.updateValue,value:this.state.value,placeholder:"What next?",fullWidth:!0,autoFocus:!0,margin:"dense",variant:"outlined"}))}}]),t}(a.Component),J=Object(d.b)(function(e){return{}},function(e){return{addTodo:function(t){e(function(e){var t=e.title,n=e.id,a=e.done,o=e.date;return{type:"ADD_TODO",todo:{title:t||"",id:n||Math.random(),done:a||!1,date:o||new Date}}}({title:t}))}}})(B),K=(n(96),function(){return o.a.createElement(i.a,{item:!0,container:!0,xs:12},o.a.createElement(i.a,{item:!0,lg:4,sm:2,xs:0}),o.a.createElement(i.a,{lg:4,sm:8,xs:12,item:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{className:"page-title",variant:"h2",component:"h1"},"React Todo"),o.a.createElement(l.a,{position:"static",color:"primary"},o.a.createElement(c.a,null,o.a.createElement(i.a,{className:"header",item:!0,spacing:2,container:!0,xs:12},o.a.createElement(i.a,{item:!0,sm:7,xs:12},o.a.createElement(j,null)),o.a.createElement(i.a,{item:!0,sm:5,xs:12},o.a.createElement(A,null))))),o.a.createElement(u.a,{className:"app-inner"},o.a.createElement(z,null)),o.a.createElement(u.a,null,o.a.createElement(c.a,{className:"mt-1"},o.a.createElement(J,null))))))}),P=n(30),q=n(22),Q={type:"ALL",by:null},U=function(e){var t=new Map;return e.forEach(function(e,n){t.set(n,Object(q.a)({},e))}),t},X=new Map,Y=n(67),Z=n(68),$=Object(P.createStore)(Object(P.combineReducers)({filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH_FILTER":case"ACTIVE_FILTER":case"DONE_FILTER":case"RESET_FILTER":return Object(q.a)({},t.filter);default:return e}},todoList:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_TODO_LIST":return n.todoList;case"ADD_TODO":return(e=U(t)).set(n.todo.id,n.todo),console.log(e),e;case"REMOVE_TODO":return(e=U(t)).delete(n.id),e;case"EDIT_TODO":return(e=U(t)).set(n.todo.id,n.todo),e;case"DONE_TOGGLE_TODO":return(e=U(t)).set(n.id,Object(q.a)({},e.get(n.id),{done:!t.get(n.id).done})),e;default:return t}},loading:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"TOGGLE_LOADING":return!e;default:return e}}}),Object(Z.composeWithDevTools)(Object(P.applyMiddleware)(Y.a)));Object(r.render)(o.a.createElement(d.a,{store:$},o.a.createElement(K,null)),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.dc751ac0.chunk.js.map